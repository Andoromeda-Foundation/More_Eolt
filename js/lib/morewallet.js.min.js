/*!
 * morewallet.js v1.0.4 - https://more.top
 * MIT Licensed
 */
!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MOREWALLET=e():n.MOREWALLET=e()}("undefined"!=typeof self?self:this,function(){return function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:o})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){n.exports=t(1)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t(2);e.default={version:"1.0.0",getClient:function(n){var e=new o.a(n);return e.getAccount(),e}}},function(n,e,t){"use strict";var o=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.source=e}return n.prototype.genCallbackName=function(n){return"mw_"+n+"_success"},n.prototype.genErrorName=function(n){return"mw_"+n+"_fail"},n.prototype.getAccount=function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,o){var r=n.genCallbackName("get_account"),i=n.genErrorName("get_account");window[r]=function(e){try{e=JSON.parse(e),n.account=e.account_name,t(e)}catch(n){o(n)}},window[i]=function(n){o(n)},window.MoreJSBridge?window.MoreJSBridge.getAccount(e):window.webkit?window.webkit.messageHandlers.getAccount.postMessage(JSON.stringify({account:e})):o("请在MORE WALLET中打开此DAPP")})},n.prototype.signText=function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,o){var r=n.genCallbackName("sign_text"),i=n.genErrorName("sign_text");window[r]=function(n){t(n)},window[i]=function(n){o(n)},window.MoreJSBridge?window.MoreJSBridge.signText(e):window.webkit?window.webkit.messageHandlers.signText.postMessage(JSON.stringify({text:e})):o("请在MORE WALLET中打开此DAPP")})},n.prototype.getCurrencyBalance=function(n,e){var t=this;return new Promise(function(o,r){var i=t.genCallbackName("get_currency_balance"),c=t.genErrorName("get_currency_balance");window[i]=function(n){o(n)},window[c]=function(n){r(n)};var a={contract:n,symbol:e};window.MoreJSBridge?window.MoreJSBridge.getCurrencyBalance(JSON.stringify(a)):window.webkit?window.webkit.messageHandlers.getCurrencyBalance.postMessage(JSON.stringify(a)):r("请在MORE WALLET中打开此DAPP")})},n.prototype.getTableRows=function(n){var e=this;return new Promise(function(t,o){var r=e.genCallbackName("get_table_rows"),i=e.genErrorName("get_table_rows");window[r]=function(n){try{n=JSON.parse(n),t(n)}catch(n){o(n)}},window[i]=function(n){o(n)},window.MoreJSBridge?window.MoreJSBridge.getTableRows(JSON.stringify(n)):window.webkit?window.webkit.messageHandlers.getTableRows.postMessage(JSON.stringify(n)):o("请在MORE WALLET中打开此DAPP")})},n.prototype.openInApp=function(){var n=this;return new Promise(function(e,t){var o=n.genCallbackName("open_in_app");window[o]=function(){e(!0)},window.MoreJSBridge?window.MoreJSBridge.openInApp():window.webkit?window.webkit.messageHandlers.openInApp.postMessage(JSON.stringify({})):e(!1)})},n.prototype.getAppVersion=function(){var n=this;return new Promise(function(e,t){var o=n.genCallbackName("get_app_version"),r=n.genErrorName("get_app_version");window[o]=function(n){e(n)},window[r]=function(n){t(n)},window.MoreJSBridge?window.MoreJSBridge.getAppVersion():window.webkit?window.webkit.messageHandlers.getAppVersion.postMessage(JSON.stringify({})):t("请在MORE WALLET中打开此DAPP")})},n.prototype.checkAction=function(n,e){var t=this;return new Promise(function(o,r){var i=t.genCallbackName("check_action"),c=t.genErrorName("check_action");window[i]=function(n){o(n)},window[c]=function(n){r(n)};var a={source:t.source,contract:n,action:e};window.MoreJSBridge?window.MoreJSBridge.checkAction(JSON.stringify(a)):window.webkit?window.webkit.messageHandlers.checkAction.postMessage(JSON.stringify(a)):r("请在MORE WALLET中打开此DAPP")})},n.prototype.pushActions=function(n){var e=this;return new Promise(function(t,o){var r=e.genCallbackName("push_actions"),i=e.genErrorName("push_actions");if(window[r]=function(n){t(n)},window[i]=function(n){o(n)},e.account){var c={source:e.source,account:e.account,actions:n};window.MoreJSBridge?window.MoreJSBridge.pushActions(JSON.stringify(c)):window.webkit?window.webkit.messageHandlers.pushActions.postMessage(JSON.stringify(c)):o("请在MORE WALLET中打开此DAPP")}else o("请选择执行账号")})},n.prototype.pushAction=function(n,e,t,o){var r=this;return new Promise(function(i,c){if(r.account){var a=[{account:n,name:e,authorization:t,data:o}];r.pushActions(a).then(i).catch(c)}else c("请选择执行账号")})},n.prototype.transfer=function(n,e,t,o){var r=this;return new Promise(function(i,c){if(r.account){var a={from:r.account,to:e,quantity:t,memo:o},s=[{actor:r.account,permission:"active"}];r.pushAction(n,"transfer",s,a).then(function(n){return i(n)}).catch(function(n){return c(n)})}else c("请选择执行账号")})},n}();e.a=o}]).default});
//# sourceMappingURL=morewallet.js.min.js.map